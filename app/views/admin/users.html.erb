<table class="table table-hover">
  <thead>
    <tr>
      <th>ID</th>
      <th>Username</th>
      <th>Email</th>
      <th>Admin?</th>
      <th>Activated?</th>
      <th>Created At</th>
      <th>Updated At</th>
      <th>Edit</th>
      <th>Delete</th>
      <th>Adminify</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <%= content_tag :td, user.id %>
        <%= content_tag :td, link_to( user.username, user ) %>
        <%= content_tag :td, user.email %>
        <%= content_tag :td, boolean_tag( user.admin? ) %>
        <%= content_tag :td, boolean_tag( user.activated? ) %>
        <%= content_tag :td, user.created_at.strftime( "%m/%d/%Y %I:%M%p" ) %>
        <%= content_tag :td, user.updated_at.strftime( "%m/%d/%Y %I:%M%p" ) %>
        <%= content_tag :td, ( link_to( "Edit", edit_user_url( user ) ) unless ( user.admin? && !current_user?( user ) ) ) %>
        <%= content_tag :td, ( link_to( "Delete", user, method: :delete, data: { confirm: "You sure?" } ) unless ( current_user?( user ) || user.admin? ) ) %>
        <%= content_tag :td, ( link_to( "Adminify", adminify_user_url( user ), method: :patch ) unless user.admin? ) %>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @users %>