<% provide( :title, "Bands" ) %>

<%= form_tag bands_url, method: :get, class: "form-horizontal" do %>
  <div class="input-group input-group-lg">
    <%= text_field_tag :search, params[:search], class: "form-control", placeholder: "Search for a band...", autofocus: true %>
    <span class="input-group-btn">
      <button type="submit" class="btn btn-default" title="Search Bands">
        <span class="glyphicon glyphicon-search"></span>
      </button>
    </span>
  </div>
<% end %>

<br>

<% found = false %>

<% @titles.zip( @providers ).each do |title, provider| %>
  <% if @bands[ provider ].present? %>
    <% found = true %>
    <%= content_tag :h4, title %>
    <div class="list-group">
      <%= render @bands[ provider ] %>
    </div>
    <%= will_paginate @bands[ provider ], param_name: "#{provider}_page" %>
  <% end %>
<% end %>

<% if !found && params[ :search ].present? %>
  <h4>No bands found...</h4>
<% end %>